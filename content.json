{"meta":{"title":"柴米油盐酱醋茶","subtitle":"rtk小站","description":"学习rtk，平时记录自己的一些小想法","author":"G","url":"http://yoursite.com","root":"/"},"pages":[{"title":"about","date":"2019-04-21T06:00:19.000Z","updated":"2020-04-09T02:57:54.495Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"关于小站 本来在研究生3年级的时候就有志于想记录自己做rtk相关的经验，但后来受制于时间和对技术不了解，所以一直没有搞起来。后来认识了WordPress,但wp永久了之后感觉发文章太慢，而且默认不支持markdown，而我处理的很多内容都是跟公式相关的。 忍受了一段时间后，加上工作上开始使用gitlab，常常接触git然后逐渐喜欢上了这个工具。之前一直忙于工作，每天下班都已经很累了，有时锻炼身体或者准备第二天的午饭后就已经到了晚上10点多。实在是无暇写东西。但看了很多前辈的话，如果现在不趁年轻多增加点技能，以后真的很难有时间拓展。所以又想起了blog。 最开始的话还是先看时间写吧，周末可以又更多的时间组织写写总结。先慢慢试着找节奏。 《天道酬勤》这幅由雄哥买的作品挂了3年，既有勉励之意，也有奋斗之情。在此贴上，勉励一下自己吧！（非原作品）"},{"title":"分类","date":"2019-04-25T16:41:03.000Z","updated":"2020-04-10T01:50:50.361Z","comments":false,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2019-04-25T16:51:41.000Z","updated":"2020-04-10T01:50:50.363Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"记录一些有用的网站","slug":"usefulWeb","date":"2020-04-09T03:44:53.000Z","updated":"2020-04-09T05:49:14.485Z","comments":true,"path":"2020/04/09/usefulWeb/","link":"","permalink":"http://yoursite.com/2020/04/09/usefulWeb/","excerpt":"记录一些有用的数据下载、效率软件地址，以方便查询学习。","text":"记录一些有用的数据下载、效率软件地址，以方便查询学习。 [TOC] 数据下载类数据处理类小工具时间转换年积日、GPS周和对应日期之间的关系查询 GPS Calender网站以日历的形式展示了过去、现在未来，每个时间段的年积日、GPS周、日期之间的对应关系，方便查询指定日期的GPS周和周内秒。 brdm星历 用于事后解算，可以配合上面的查询年积日的工具一起使用。 NASA :2020年BRDM星历","categories":[],"tags":[{"name":"网站","slug":"网站","permalink":"http://yoursite.com/tags/网站/"},{"name":"数据","slug":"数据","permalink":"http://yoursite.com/tags/数据/"}]},{"title":"停更之后的说明","slug":"49","date":"2020-04-09T03:29:59.000Z","updated":"2020-04-09T03:34:40.477Z","comments":true,"path":"2020/04/09/49/","link":"","permalink":"http://yoursite.com/2020/04/09/49/","excerpt":"","text":"自从使用OneNote后很久没更新博客。后因其他地方编辑的源文件没上传导致博客突然缺了很多文章，有点伤心。再次试试，看还能不能继续写。","categories":[{"name":"日常 - 生活随感","slug":"日常-生活随感","permalink":"http://yoursite.com/categories/日常-生活随感/"}],"tags":[{"name":"生活","slug":"生活","permalink":"http://yoursite.com/tags/生活/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-04-09T02:57:54.490Z","updated":"2020-04-09T03:25:49.201Z","comments":true,"path":"2020/04/09/hello-world/","link":"","permalink":"http://yoursite.com/2020/04/09/hello-world/","excerpt":"欢迎来到Hexo的世界，这里是你的第一篇博文。","text":"欢迎来到Hexo的世界，这里是你的第一篇博文。 Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment hEXO 阅读全文 https://www.jianshu.com/p/78c218f9d1e7 在文章中使用&lt; !--more--&gt; 手动进行截断 表头1 表头2 Content Cell Content Cell Content Cell Content Cell 表头1 表头2 Content Cell Content Cell Content Cell Content Cell 名字 描述 Help Display the help window. Close Closes a window 表格中也可以使用普通文本的删除线，斜体等效果 名字 描述 Help Display the help window. Close Closes a window 表格可以指定对齐方式 左对齐 居中 右对齐 col 3 is some wordy text $1600 col 2 is centered $12 zebra stripes are neat $1 表情包开心吧 :blush: 打钩 [x] C [x] C++ [x] Java [x] Qt [x] Android [ ] C# [ ] .NET 区块引用$ f(x)=sin(x) $只需要在内容前加上一个&gt;就行。如果要嵌套可以再加一个&gt;。例如： 1、This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus. 2、This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus. 12112221 \\frac{\\partial u}{\\partial t} = h^2 \\left( \\frac{\\partial^2 u}{\\partial x^2} + \\frac{\\partial^2 u}{\\partial y^2} + \\frac{\\partial^2 u}{\\partial z^2}\\right)Simple inline $a = b + c$. $\\alpha$ This equation is inline.","categories":[],"tags":[]},{"title":"QTrtklib编译记录","slug":"QTrtklib编译记录","date":"2019-06-09T12:49:10.000Z","updated":"2020-04-10T01:50:50.355Z","comments":true,"path":"2019/06/09/QTrtklib编译记录/","link":"","permalink":"http://yoursite.com/2019/06/09/QTrtklib编译记录/","excerpt":"结合最近编译中遇到的问题，重新试一下看能不能编译通过rtklib的Qt版本。毕竟用c++build编译太麻烦了。 需要特别说明的是本文使用的代码是rtklibexplorer修改的rtklib代码分支，所以有些问题可能是直接编译rtklib源码所不能遇到的。","text":"结合最近编译中遇到的问题，重新试一下看能不能编译通过rtklib的Qt版本。毕竟用c++build编译太麻烦了。 需要特别说明的是本文使用的代码是rtklibexplorer修改的rtklib代码分支，所以有些问题可能是直接编译rtklib源码所不能遇到的。使用的代码： rtklib-rtklibexplorer分支（以下简称exp分支） rtklib-主分支 问题1：如下图： ) 方案1： 从之前的版本中找到这个文件，放到rcv下，然后修改src.pro，注释掉rcv/ss2.c \\z这行代码再反注释就可以初步调试通。 方案2：删除rcv/ss2.c \\这行代码，即认为不存在这个文件进行编译。 问题2： 找不到FREQ1的定义。 思路：查看该问题位于ss2.c文件中。（也就是上步注销掉ss2.c文件就没这个问题了。。）由于ss2.c文件很久没有更新了，所以追溯到最后一次更新的版本，找到对应的rtklib.h头文件71行。 1#define FREQ1 1.57542E9 /* L1/E1 frequency (Hz) * 对应现在的rtklib.h文件对应的变量为FREQL1: 1#define FREQL1 1.57542E9 /* L1/E1 frequency 1 (Hz) */ 所以解决办法为：将FREQ1修改为FREQL1. 问题3：code2obs调用方法不对： 思路：这个是因为exp分支对北斗的频率做了特殊处理： 123456789101112extern char *code2obs(int sys, unsigned char code, int *freq)&#123; if (freq) *freq=0; if (code&lt;=CODE_NONE||MAXCODE&lt;code) return \"\"; if (freq) &#123; if (sys==SYS_CMP) *freq=obsfreqs_cmp[code]; else *freq=obsfreqs[code]; &#125; return obscodes[code];&#125; 主分支为： 1234567extern char *code2obs(unsigned char code, int *freq)&#123; if (freq) *freq=0; if (code&lt;=CODE_NONE||MAXCODE&lt;code) return \"\"; if (freq) *freq=obsfreqs[code]; return obscodes[code];&#125; 特殊处理在添加了北斗对应的观测频段obsfreqs_cmp数组。从上面函数的变化可以看出，新增加的参数主要是针对北斗的观测值，所以只有当使用北斗观测值的时候才对sys赋值SYS-CMP，例如： 1obs1=code2obs(SYS_CMP,codes[i],NULL); 除北斗外的观测值sys赋值为0即可。例如： 1obs1=code2obs(0,codes[i],NULL); 所以找到这些报错的地方，根据函数使用环境，在sys变量对应位置填上0或者SYS_CMP即可。(由于这里只是在调用数据绘图，BDS和Galileo的频段很多类似，所以统一补充上0就行)。 问题4： RTKLIB-demo5\\app\\rtkconv_qt\\codeopt.cpp:333: error: ‘FREQTYPE_L7’ was not declared in this scope E27-&gt;setEnabled((NavSys&amp;SYS_GAL)&amp;&amp;(FreqType&amp;FREQTYPE_L7)); 查看主分支的源代码里的codeopt.cpp这一部分也没改，检索发现rtklib.h解释的FREQTYPE_L7定义为： 12#define FREQTYPE_L7 0x10 /* frequency type: E5b/B2 */#define FREQTYPE_L8 0x20 /* frequency type: E5(a+b) */ 而exp分支对它做了处理，所以有点不一样，特殊处理了一下： 1#define FREQTYPE_E5b 0x04 /* frequency type: E5b/B2 */ 按照同样的方法处理其他提示频率有问题的项目： 12#define FREQTYPE_L6 0x08 /* frequency type: E6/LEX/B3 */#define FREQTYPE_E6 0x10 /* frequency type: E6/LEX/B3 */ 12#define FREQTYPE_L8 0x20 /* frequency type: E5(a+b) */#define FREQTYPE_E5ab 0x20 /* frequency type: E5(a+b) */ 12#define FREQTYPE_L9 0x40 /* frequency type: S */#define FREQTYPE_S 0x40 /* frequency type: S */ 问题5 : error: No rule to make target ‘../../src/debug/libRTKLib.a’, needed by ‘release/rtkget_qt.exe’. Stop. 在网上查找的时候遇到过国外的一个小伙伴遇到这个问题，帖子暂时找不到了，不过找到一个国内的小伙伴调试的帖子这个可能有用：Windows环境下的RTKPlot_Qt版本编译时遇到的问题和解决方法,这里就参照这个帖子一步一步调试看看： 就是有一点需要注意：libRTKLib.lib生成需要调换到debug模式，然后在构建菜单下执行qmake操作。 debug模式下调试没问题，在*——debug目录下的app/debug/rtk各软件目录下能找到各自编好的debug版本的程序，但是直接运行不行，会提示缺库，这是qt打包exe时会出现的问题，参考这个帖子，这时候需要用到用到这个工具: 在命令行下执行windeployqt xxx.exe,xxx这里可以放上生成的exe dug版的路径。执行完后这个exe文件夹内会生成多个dll库，这时候双击exe就可以运行了。这就类似生成的是绿色版的程序。对，类似Vnote的Windows版，就是直接运行exe。 确实感觉没有c++ builder 生成的方便。另外，切换到release模式，一直会提示找不到libRtkLib.a，实在搞不定就放弃了。 看到科学网的这篇博客，突然发现一个点：mkl矩阵加速，链接是：RTKLIB 在OSX系统下Xcode/CLion平台上的编译问题及解决方法,好奇查了一下好像确实能加快矩阵运算,但因为mkl是Intel的技术，商用还是有风险。","categories":[],"tags":[{"name":"rtklib","slug":"rtklib","permalink":"http://yoursite.com/tags/rtklib/"},{"name":"Qt","slug":"Qt","permalink":"http://yoursite.com/tags/Qt/"}]},{"title":"GPS 学习之别人观","slug":"newpage","date":"2019-04-24T16:46:03.000Z","updated":"2020-04-10T01:50:50.357Z","comments":true,"path":"2019/04/25/newpage/","link":"","permalink":"http://yoursite.com/2019/04/25/newpage/","excerpt":"practice make perfect。","text":"practice make perfect。 原文链接：GPS 学习之别人观我的观点，一要找准基本不同级别的书，而是集中精力精读几本经典的书。我最先看的有关GPS的书是Tsui的Fundamentals of global positioning system receivers : a software approach， 我是2001年拿到这本书的，，那时还只有第一版，这本书最大的特色是简单，Tsui的写作技巧很高，读起来很舒服，适合于初学者，上手很快，但缺点也很明显，就是深度有限，尤其是讲信号跟踪的时候，那部分我感觉还不如不讲，反正我是由于这本书在信号跟踪的处理部分纠结了大概有一年多的时间。2005年出的第二版我也看了，就是加了两章弱信号的处理，信号跟踪部分还是很烂，而且这本书中的那个所谓BASS跟踪算法也就是一小撮学术界的人在玩，我在美国ION开会时见过Tsui的学生，和他们聊过，感觉这只是一个发paper的噱头而已，在工业界我知道的没有一家公司用这个东东。 这本书的导航部分也很烂，不是很烂，而是基本没有讲。 并没有贬低Tsui的这本书的意思，Tsui还是我们的前辈，这点我还是有自知之明的，而且搞研究就是要鼓励创新，虽然创新的结果也许在实际中百无一用，但没准什么时候就能搞出来一个牛顿第四定律。 Tsui的书我可以算是精读了，前前后后断断续续花了有两年多的时间在看这本书。这本书给我最大的帮助明白GPS的基本原理，同时书中的Matlab代码帮我搞清楚了信号捕获的基本原理和步骤。 我随后看得第二本书是Kaplan的Understanding GPS - Principles and Applications ，也是我自己掏腰包买的一本书，那是在2004年左右，那时还新版还没有出来。这本书的水平要远超Tsui的那本书，我就是看了这本书才弄明白了信号跟踪的原理。曾经一度迷惑在NCO的软件实现，这本书在一个奇妙的夜晚帮我打通了任督二脉，从此剩下的一切就如行云流水般自然。所以对这本书我是感激不尽。 这本书的难度要比Tusi的那本书高，所以个人认为不适合初学者阅读，必须有一定背景以后再去看。而且这本书涵盖的东西很多，没有必要每一个章节都精读，只需要对自己研究工作相关的部分精读即可。我现在还在时不时翻一番这本书。 在看Kaplan的同时，我又通过老板推荐得到了Misra, P., and Enge, P. 的Global Positioning System - Signals, Measurements, and Performance,这本书我是在2004年底拿到的，应该是第二版，现在国内也已经翻译过来了，我看了但感觉有些地方还是英文原版的比较清楚。 Enge, P是个GPS领域的大大牛人，搞卫星导航的不能不知道，否则会被人笑话的。 这本书的特色是理论讲解扎实，逻辑清楚，涵盖了从卫星信号格式特性，接收机射频，基带，导航算法的几乎所有部分，而且对接收机观测量做了比较详尽的分析，还讲解了一些载波模糊度的处理，我觉得水平和Kaplan那本书不相上下。难度当然也较高，适合于有一定基础的读者。当然如果基础比较好，也可以直接阅读。这本书也是一本值得精读的书。 讲到GPS的图书，就不能不提一本宏篇巨作： 由Bradford W. Parkinson, James J. Spilker 主编的Global positioning system: theory and applications， 这部书不能用“本” 来形容了，必须用“卷”这个词。我看到的有两卷，每一卷都有700多页，内容可以说涵盖了GPS系统的方方面面，真的是从天上到地上，从软件到硬件到算法，无一不包。这本书因为封皮为蓝色，国外一般把它叫做“蓝宝书“（BlueBook），地位相当于GPS图书中的圣经。Bradford W. Parkinson, James J. Spilker 都是在这个领域牛的一塌糊涂的人。 但这本书最大的缺点是本书的系统性很差。严格来说，这本书应该是一份学术论文的汇编，不同章节由不同领域的专家完成，所以写作风格变化很大，看起来很痛苦。这本书绝对不是给初学者看得，如果一个GPS的初学者一开始就立志啃这本书，我敢说他会很快就死的很难看。我觉得要看这本书必须先精读Kaplan和 Misra, P., and Enge, P. 的书以后，才能尝试，而且要抱着啃不动的思想准备。 我在GPS领域已经干了8年了，看这本GPS圣经有时候还是感觉很吃力，但一旦看明白，那学到的东西就不是一丁半点。 这是我认为一个GPS初学者应该阅读的几本GPS经典图书和阅读顺序， Tsui—&gt;Kaplan—-&gt;Misra, P., and Enge, P. —-&gt;Parkinson。 其他像Denis A.kos的软件接收机的书，也可以作为辅助读物，但不值得花太多时间精读，可以跑跑他那本书的程序，但他的程序都是用matlab写的，跑起来很慢的。 坛子里前些日子有人推荐Nesreen I. Ziedan的GNSS Receivers for Weak Signals，这本书我正在看，而且我不是电子版，而是实体书。这本书给我的感觉是比较晦涩，看起来很吃力，并不是说他的学术水平很高，而是著者的写作技巧不是太老到。而且这本书绝对不是讲GPS接收机信号处理的基本原理的书，而是一些特殊场合（弱信号）的特殊处理的书。这就决定了这本书也不是给初学者看得。坛子里大家要有针对性的下载阅读。 最后谈谈和GPS相关但又不是直接讲GPS的书。因为我一直都在搞GPS接收机的设计，所以更多从通信系统和信号处理的角度谈谈自己打看法。 GPS接收机其实涵盖了蛮多的东西，从射频前端，AD中频采样，基带处理（信号捕获和跟踪），导航结算（LS和KF），基本上设计了射频电路，采样原理（更多的是带通采样），CDMA信号处理，估值理论，环路控制和同步理论，自适应滤波（KF）等等。所以一个好的研究者应该具备这个方面的基本功才能更好的展开工作。 Alan V. Oppenheim 的有关信号和系统，以及数字信号处理的经典图示是必读科目，J.K Holmes的Coherent Spread Spectrum Systems 也是需要精读的， Roland Best的有关锁相环的书也值得一读，其他的John Proakis 的数字通信的书也应该读一读，R.G.Brown 的有关随机信号处理和卡尔曼滤波的书也是一代经典，其他像随机过程，现代线性系统，控制理论，以及状态参数估计的书也是必须要看的。 最后就是阅读ION历年的论文了，这是最后一步，也是和国际水平保持同步的关键一步。 呵呵，可以看出一个好的GPS研发人员需要倾注多大的时间和精力才能功德圆满！ 这一切都是一个慢慢积累的过程，我们需要的是潜下心来，假以时日，一定会学有所成。 [1] (美)米斯拉 (Misra, Pratap). 全球定位系统 : 信号、测量与性能 / (美)Pratap Misra, Per Enge著; 罗鸣, 曹冲, 肖雄兵等译 电子工业出版社, 2008[2] (美)卡普兰 (Kaplan, Elliott D.). GPS原理与应用 / (美)Elliott D. Kaplan, (美)Christopher J. Hegarty主编; 寇艳红译 电子工业出版社, 2007[3] 张守信. GPS 技术与应用 / 张守信主编 国防工业出版社, 2004[4] 熊志昂. GPS 技术与工程应用 / 熊志昂等编著 国防工业出版社, 2005[5] 袁建平. 卫星导航原理与应用 [专著] / 袁建平等[编著]. — . — 北京 : 中国宇航出版社, 2003. — 363页 ; 20cm 都是中文的，看起来快。Tsui的Fundamentals of global positioning system receivers : a software approach，我也买过中文版，即《GPS软件接收机基础（第2版）中文版》。 Misra和Kaplan的书毫无疑问是最主要的参考书了。水平远高于Tsui的那本小册子。Tsui的书给我印象比较差。我觉得缺乏工程实践了，对实际工作没什么帮助。书中错误较多。解算程序也缺了不少步骤。除了这些书，还有一个主要参考资料就是开源项目gpstk。gpstk的解算程序至少可以中规中矩地解算数据，比Tsui的程序强多了。 改天有空再更新自己的看法吧。","categories":[{"name":"书本类","slug":"书本类","permalink":"http://yoursite.com/categories/书本类/"}],"tags":[{"name":"经验","slug":"经验","permalink":"http://yoursite.com/tags/经验/"},{"name":"书","slug":"书","permalink":"http://yoursite.com/tags/书/"}]},{"title":"更新RTKLIB 配置文件指南","slug":"paper421","date":"2019-04-21T11:25:37.000Z","updated":"2020-04-10T01:50:50.359Z","comments":true,"path":"2019/04/21/paper421/","link":"","permalink":"http://yoursite.com/2019/04/21/paper421/","excerpt":"说明 原文来自于rtklibexplorer的博客文章《Updated guide to the RTKLIB configuration file》,首先用谷歌翻译进行粗翻译，然后对个别词句做了修改，部分地方做了意译。翻译仅仅为个人阅读方便，有错误的地方还请指出。","text":"说明 原文来自于rtklibexplorer的博客文章《Updated guide to the RTKLIB configuration file》,首先用谷歌翻译进行粗翻译，然后对个别词句做了修改，部分地方做了意译。翻译仅仅为个人阅读方便，有错误的地方还请指出。 [TOC] 自从我上一次更新RTKLIB配置文件指南到现在已经有一段时间了。自上次更新以来，我在代码中又添加了一些新功能，并了解了很多现有的功能。之前更新的内容我都发布在了原帖子里，但这次我想我会重新发布它以便更容易找到它。 RTKLIB的一个好处是它具有极高的可配置性，并且可以提供大量输入选项。但对于使用RTKLIB的新手来说可能会有点压力。RTKLIB manual简要解释了每个选项是做什么的，但即使有了它，也很难知道如何最好地为某些参数选值。 我不会在这里对所有的输入选项进行全面的解释，但会解释一些我发现在我的实验中调整有用的内容，和为什么选择这些值。我描述的是一些出现在配置文件中的参数项，而不是出现在RTKNAVI GUI菜单中的选项值，但我为这些参数所做的说明适用于两者。下面的选项里，我把我的最新配置文件与默认配置文件进行了比较并对取值不同的选项进行了说明。下表是流动站5HZ采用率对应的配置文件中的取值。相同的配置文件可用在RTKNAVI，RTKPOST或RNX2RTKP。 以下用黑体(原文为蓝色，译者注）突出显示的设置和选项仅仅在这里的演示代码中提供，而不在发布代码中提供，但我在它们下方给出大部分描述内容则适用于任一代码。我所做的大多数工作都是针对使用Ublox M8N和M8T接收机以及短基线下的RTK解决方案，这些设置多直接应用于这些组合，但作为其他场景的起点应该是应该有用的。本文主要是对rtklib手册做一些有用的补充，所以对于本文未涉及的一些参数请查找原手册。 SETTING1：pos1-posmode = static, kinematic, static-start, movingbase, fixed如果流动站处于静止状态，请使用“static”模式。如果它正在运动，请使用用“kinematic”或“static-start”。“static-start”模式假设流动站在达到第一次固定之前都是静止的，第一次固定后切换到动态模式，使得卡尔曼滤波能充分利用流动站刚开始时是不运动的这一已知条件。如果基站像流动站一样也在运动，则可以使用“movingbase”模式，但除非基站运动了一段很长的距离，否则不需要用它。我经常发现，即使流动站在运动，“kinematic”模式也能得到比“movingbase”更好的结果。“Movingbase”模式与动态模式并不兼容，所以注意一下不要同时启用这两种模式。如果基站和流动站一直保持固定距离，则在“movingbase”模式下注意设置参数“pos2-baselen”和“pos2-basesig”。如果你知道流动站的确切位置，只想分析一下残差那么可以选择使用fixed模式。 pos1-frequency = l1L1对应单频接收机，L1 + L2对应双频GPS / GLONASS / Bediou接收机，如果数据中包含Galileo，则选择L1 + L2 + E5b. pos1-soltype =forward, backward, combined这是使用卡尔曼滤波的滤波方向。实时处理时，forward是你唯一的选择。对于后处理来说，combined会先做一次向前滤波，再做一次向后滤波然后对结果进行组合。对一个历元来说，如果该历元两个方向上的滤波都对应固定解，那么组合的结果对应的解状态也是固定的，值取这两个固定解的均值，除非这两者之间的差异太大，在这种情况下解状态将是浮点解。如果只有一个方向有固定解，就取这个固定解的值，状态为固定解。如果两个方向都是浮动解，就取他们的平均值并且状态将是浮动解。combined模式并不总是更好的，因为任一方向上的错误固定通常会导致组合结果是浮点解且不正确。combined的主要优点是它通常会在数据开头就提供固定解，而单使用仅forward模式则需要一段时间才能收敛。2.4.3中的代码在开始做backwards之前会重置偏置状态（bias states）以确保解的独立。demo5的代码则不会重置偏置状态，以避免将模糊度的解算方法设置为continuous的情况下， having to lock back up when the rover is moving。如果将模糊度的解算方式设置为fix-and-hold则需要重置状态偏差。只有当我难以获得初始固定解，但又想知道正确的卫星相位偏差值是多少的时候，我才会用使用backward模式做调试。（未翻译好） pos1-elmask = 15(degrees)用于计算位置的最小卫星高程。我通常将其设置为10-15度以减少将多路径引入解决方案的机会，但此设置将取决于流动站环境。天空视图越开放，此值可以设置为越低。 pos1-snrmask-r = off，pos1-snrmask-b = off，on用于计算位置的流动站（_r）和基站（_b）的最小卫星SNR。消除不良卫星可能是一个更有效的标准，因为它是一种更直接的信号质量测量方法，但最佳值会随着接收器类型和天线类型而变化，因此我大部分时间都将其关闭，以避免需要对其进行调整为每个应用程序。 pos1-snrmask_L1 = 35,35,35,35,35,35,35,35,35设置每五度仰角的SNR阈值。我通常会将所有值保持不变，并根据标称SNR选择35到38分贝之间的值。仅当pos1-snrmask_x设置为on时才使用这些值。如果您使用双频，则还需要设置“pos1-snrmask_L2” pos1-dynamics = on设置动态模式为on时，速度和加速状态将会添加到流动站的卡尔曼滤波估计中去。选择它会改善“kinematic”和“static-stat”的结果，但对“static”模式几乎没有影响。在启用dynamics的情况下，代码的运行速度会明显变慢，但demo5版的代码应该没问题。务必根据流动站的运动特征为流动站设置一个合适的“prnaccelh”和“prnaccelv”。dymamics模式与“movingbase”模式不兼容，因此在使用movingbase模式时要把danamics关掉。 pos1-posopt1 = off，on（Sat PVC）设置是否对卫星天线相位中心进行改正。RTK模式下可关闭它，但做PPP的时候需要打开。如果设置为on时则需要在files参数中指定卫星的天线PCV文件。 pos1-posopt2 = off，on（Rec PCV）设置是否对接收机天线相位中心进行改正。如果设置为on，则需要在Options-&gt;Files下给出接收器天线PCV文件的路径，并在Options-&gt;Positions选项页面分别说明基站和流动站的接收器天线类型。IGS提供的天线文件中只包含测量型天线的，所以如果说你使用天线在这个文件列表里的话直接就可以使用。它（指的是否进行天线相位中心改正，译者注）主要影响z方向上的精度，所以如果对高程比较关注的话，则对天线相位中心进行改正就变得比较重要了。如果两个接收机的天线相同则可以置为off，因为它（通过差分的方式）会被消除。 pos1-posopt5 = off，on（RAIM FDE）如果有卫星的残差超过了阈值，则排除该卫星。这里只会排除那些误差比较大的卫星，但由于运算量较大，所以我通常会将这个选项禁用。 POS1-exclsats =如果你知道某颗卫星质量较差就把它放在这个列表里，那么它就不会参与到解算中来。除非在调试的时候的我怀疑某颗卫星有问题否则我很少会使用这个选项。 pos1-navsys = 7,15，因为更多的观测信息通常能带来更好的结果，所以（除常用的GPS系统外）通常我也会使用GLONASS和SBAS卫星。如果使用M8T较新的u-blox 3.0 固件，我会把Galileo系统也加入进来。 SETTING2：pos2-armode =continuous, fix-and-hold整周模糊度解算策略。continuous模式不利用固定解来调整相位偏差状态，所以它对假修复最不敏感。fix-and-hold则会利用固定解的反馈来帮助跟踪模糊度。我更喜欢使用fix-and-hold并将跟踪增益（pos2-varholdamb）调整得足够低，以最大限度地减少错误固定的可能性。如果armode未设置为fix-and-hold，则下面提到的和hold相关的任何选项都不再适用，包括pos2-gloarmode。 pos2-varholdamb = 0.001,0.1（meter）在demo5的代码中，可以使用此参数来调整fix-and-hold的跟踪增益。它实际上是方差而不是增益，因此设置较大的值时会产生较低的增益。0.001是默认值，任何超过100的效果都很小。该值用作在保持期间产生的伪测量的方差，其提供反馈以将卡尔曼滤波器中的偏置状态朝向整数值驱动。我发现从0.1到1.0的值提供足够的增益来辅助跟踪，同时在大多数情况下仍然避免跟踪错误修复。 pos2-gloarmode = on，fix-and-hold，autocalGLONASS整周模糊度解算模式。如果你有多个相同的接收机，那么通常你可以将该值设置为“on”，对于你来说这是一个比较好的选择，这样就可以允许在开始固定模糊度的时候用上glonass的卫星。如果你手里的接收机不一样或者你正在使用两个u-blox M8N接收机，这时候如果你想在模糊度解算中用上GLONASS卫星，这时候需要将此参数设置为“fix-and-hold”，从而消除信道间偏差。 。在这种情况下，刚开始模糊度固定的时候不会用到glonass卫星，等到（用其他系统的卫星）达到第一次固定，这时候可以对信道间偏差进行校正，待完成这一步后就可以用glonass的卫星进行模糊度固定。这里还有一个“autocal”选项，但我从来没有能够在2.4.3代码中顺利跑成功过。我把这个功能加到了demo5的代码中，这样就可以预先调整信道偏差，方差和校准增益。对于特定的接收机对，这个偏差值已知，所以可以在这里直接设置偏差值，同时可以将增益设置得非常低。这会破坏该功能的自动校准方面，但确实提供了一种机制来指定RTKLIB中缺少的偏差。当使用“autocal”时，GLONASS卫星将用于初始采集。“自主”功能还可用于使用迭代方法确定具有零或短基线的通道间偏差。这会破坏该功能的自动校准方面，但确实提供了一种机制来指定RTKLIB中缺少的偏差。当使用“autocal”时，GLONASS卫星将用于初始采集。“自主”功能还可用于使用迭代方法确定具有零或短基线的通道间偏差。这会破坏该功能的自动校准方面，但确实提供了一种机制来指定RTKLIB中缺少的偏差。当使用“autocal”时，GLONASS卫星将用于初始采集。“自主”功能还可用于使用迭代方法确定具有零或短基线的通道间偏差。 POS2-gainholdamb = 0.01在demo5代码中，可以使用此参数调整GLONASS卫星的通道间偏置校准的增益。 pos2-arthres = 3这是用于确定模糊度解析解决方案是否有足够的信心来声明修复的阈值。它是第二最佳解决方案的残差平方与最佳解决方案的比率。我通常总是将其保留为默认值3.0并调整所有其他参数以解决此问题。虽然较大的AR比率表示比低AR比率更高的置信度，但两者之间没有固定的关系。卡尔曼滤波器状态中的误差越大，对于给定的AR比率，该解决方案的置信度将越低。通常，卡尔曼滤波器中的误差在第一次收敛时将是最大的，因此这是最有可能获得错误修复的时间。减少pos2-arthers1可以帮助避免这种情况。 pos2-arfilter = on将此设置为开启将使从周期滑动中恢复的新坐姿或坐姿有资格。如果sat在第一次添加时显着降低AR比率，则其用于模糊度解析的使用将被延迟。启用此选项应允许您减少“arlockcnt”，它具有类似的用途，但具有盲目延迟计数。 pos2-arthres1 = 0.004-0.10整数模糊度分辨率被延迟，直到位置状态的方差达到该阈值。它旨在避免在卡尔曼滤波器中的偏置状态有时间收敛之前的错误修复。如果已将eratio1设置为大于100的值或使用单个星座解决方案，则将此值设置为相对较低的值尤为重要。如果您看到AR比率为零延伸到您的解决方案中太远，您可能需要增加此值，因为这意味着已禁用歧义解决方案，因为尚未满足阈值。我发现0.004到0.10通常对我来说效果很好但是如果你的测量质量较低，你可能需要增加它以避免在发生多次循环滑动后过度延迟第一次修复或丢失修复。 POS2-arthres2相对于每个频率槽的GLONASS硬件偏差（米）。此参数仅在pos2-gloarmode设置为“autocal”时使用，用于指定两个不同接收器制造商之间的通道间偏置。要查找常见接收器类型的适当值，以及如何使用此参数进行迭代搜索以查找未指定的接收器类型的值，请参阅此文章。此参数已在RTKLIB 2.4.3中定义但未使用 pos2-arthres3 = 1e-9,1e-7GLONASS硬件偏置状态的初始方差。仅当pos2-gloarmode设置为“autocal”时才使用此参数。较小的值将给予pos2-arthres2中指定的初始值更多的权重。当pos2-arthres2被设置为已知偏差时我使用1e-9，而对于迭代搜索则使用1e-7。此参数已在RTKLIB 2.4.3中定义但未使用 pos2-arthres4 = 0.00001,0.001用于GLONASS硬件偏置状态的卡尔曼滤波器处理噪声。较小的值将给予pos2-arthres2中指定的初始值更多的权重。当pos2-arthres2设置为已知偏差时我使用0.00001，而迭代搜索设置0.001。此参数已在RTKLIB 2.4.3中定义但未使用 pos2-arlockcnt = 0,5在将其用于整数模糊度解析之前延迟新的sat或sat从循环滑移中恢复的样本数。避免AR比率的腐败，包括尚未有时间收敛的sat。与“arfilter”结合使用。请注意，单位是样本，而不是时间单位，因此如果更改流动站测量采样率，则必须对其进行调整。对于u-blox接收器，我通常将其设置为零，这些接收器非常擅长标记可疑观察但是将其设置为至少为其他接收器的五个。如果不使用demo5 RTKLIB代码，请将其设置得更高，因为不支持“arfilter”功能。 pos2-minfixsats = 4获得修复所需的最小sats数。用于避免来自极少数卫星的错误修复，特别是在频繁循环滑动期间。 pos2-minholdsats = 5保持整数模糊结果所需的最小sats数。用于避免极少数卫星的误保持，特别是在频繁循环滑动期间。 pos2-mindropsats = 10每个时期允许将单个卫星排除在模糊度解决之外所需的最小sats数。在每个时代，排除不同的卫星。如果排除卫星导致AR比率的显着改善，那么该卫星将从用于AR的卫星列表中移除。 pos2-rcvstds =on，off启用此功能会导致原始伪距和相位测量观测值的测量方差根据接收器报告的测量值的标准偏差进行调整。目前仅u-blox接收器支持此功能。方差调整是基于stats-errphaseel参数对卫星高程进行的调整的补充。关闭后，我通常会得到更好的结果。 pos2-arelmask = 15功能上与默认值零没有区别，因为小于“elmask”的高程不会用于模糊度解析，但我改变它以避免混淆。 pos2-arminfix = 20-100（5-20 *采样率）保持模糊度所需的连续修复样本数。增加这可能是减少错误保持的最有效方法，但也会增加第一次保持的时间和重新获取保持的时间。随着模糊度跟踪增益减小（即随着pos2-varholdamb增加），观察数量增加，可以减少arminfix。请注意，如果流动站测量采样率发生变化，也应调整此值。 pos2 elm mask = 15功能上与默认值零没有区别，因为小于“elmask”的高程不会用于保持模糊度解析结果，但我改变它以避免混淆。 pos2-aroutcnt = 100（20 *采样率）连续丢失样本的数量，这些样本将导致重置歧义。同样，如果流动站测量采样率发生变化，则需要调整该值。 pos2-maxage = 100流动站测量和基准测量之间的最大延迟（差分年龄），以秒为单位。这通常是因为行为不当的无线电链路缺少测量结果。我已经从默认值中增加了它，因为我发现即使这个值相当大，我也经常会得到好的结果，假设在第一次修复并保持之后发生了丢失。 pos2-rejionno = 1000如果测量的预拟合残差大于此值（以米为单位），则拒绝测量。我发现RTKLIB不能很好地处理异常值测量，因此我将其设置得足够大以有效地禁用它。对于通常不擅长标记异常值的非ublox接收器，我有时必须将其设置回默认值30或甚至更低以尝试处理异常值，但这是一种权衡，因为它可能会导致其他问题特别是卡尔曼滤波器的初始收敛。 OUTPUT：out-solformat = enu，llh，xyz我通常对流动站和基地之间的相对距离感兴趣，因此将其设置为“enu”。如果您对绝对位置感兴趣，请将其设置为“llh”，但请确保在“ant2”设置中设置确切的基本位置。如果需要精确的z轴测量，请注意此设置。如果流动站处于恒定高度，只有llh格式会给你一个恒定的z高度。“Enu”和“xyz”是笛卡尔坐标，因此z轴遵循平面，而不是地球的曲率。如果基站位于离流动站更远的位置，这会导致特别大的误差，因为曲率将随着距离而增加。 out-outhead = on解决方案没有功能差异，只需向结果文件输出更多信息。 out-outopt = on解决方案没有功能差异，只需向结果文件输出更多信息。 out-outstat =residual解决方案没有功能差异，只是将残差输出到文件。残差对于调试解决方案的问题非常有用，只要残差文件与解决方案文件位于同一文件夹中，就可以使用RTKPLOT绘制残差。 stats-eratio1 = 300，stats-eratio2 = 300伪距测量的标准偏差与载波相位测量的比率。我发现较大的值对于低成本接收器更有效，但是默认值100通常对于更昂贵的接收器更好，因为它们具有较少的噪声伪距测量。较大的值往往会导致卡尔曼滤波器更快收敛并导致更快的首次修复，但也会增加错误修复的可能性。如果你增加这个值，你应该将pos2-arthres1设置得足够低，以防止在卡尔曼滤波器有时间收敛之前找到修复。我相信增加该值对于增加伪距平滑算法的时间常数具有类似的效果，因为它在保持低频分量的同时滤除伪距测量中的更多较高频率。 stats-prnaccelh = 3.0如果启用了接收器动态，则使用此值设置水平分量中流动站接收器加速度的标准偏差。该值应包括所有频率的加速度，而不仅仅是低频率。它应该表征流浪者天线的任何运动，而不仅仅是整个流动站的运动，因此它可能比你想象的要大。它将包括来自振动的加速度，道路颠簸等，以及整个漫游车的更明显的刚体加速度。可以通过运行此值设置为较大值的解决方案来估计，然后使用RTKPLOT检查解决方案文件中的加速值 stats-prnaccelv = 1.0关于水平加速度的评论更多地适用于垂直加速度分量，因为在许多应用中，有意加速都将在水平分量中。最好从实际GPS测量数据中获得该值，而不是刚体流动站的预期值。最好高估这些值而不是低估它们。 ant2-postype = rinexhead，llh，single这是基站天线的位置。如果您只对基座和流动站之间的相对距离感兴趣，则此值不需要特别准确。对于后处理，我通常使用RINEX文件头中的近似基站位置。如果您想在解决方案中保持绝对位置，那么基站位置必须更准确，因为任何错误都会增加您的流动站位置错误。如果我想要绝对位置，我首先处理附近参考站的基站数据以获得确切位置，然后使用“llh”或“xyz”选项指定该位置。对于实时处理，我使用“单个”选项，该选项使用来自数据的单个解决方案来粗略估计基站位置。 ant2-maxaveep = 1如果“postype”设置为“single”，则指定平均以确定基站位置的样本数。我将其设置为1以防止卡尔曼滤波器开始收敛后基站位置发生变化，因为这似乎导致首次修复很长时间。在大多数情况下进行后处理时，基站位置将来自RINEX文件头，因此您不会使用此设置。但是，如果您正在使用RTCM文件，甚至可能需要进行后期处理。 MISC：misc-timeinterp = off，on插值基站观测值。如果基站观测采样时间大于5秒，我通常将其设置为“on”。 如果您已成功调整其他选项或使用这些选项的不同设置，或者您不同意我的任何建议，请帮助我更新此列表。我将此视为一份工作文件，并在我了解更多信息后继续更新。","categories":[{"name":"翻译 - rtklibexplorer","slug":"翻译-rtklibexplorer","permalink":"http://yoursite.com/categories/翻译-rtklibexplorer/"}],"tags":[{"name":"rtklib","slug":"rtklib","permalink":"http://yoursite.com/tags/rtklib/"}]}],"categories":[{"name":"日常 - 生活随感","slug":"日常-生活随感","permalink":"http://yoursite.com/categories/日常-生活随感/"},{"name":"书本类","slug":"书本类","permalink":"http://yoursite.com/categories/书本类/"},{"name":"翻译 - rtklibexplorer","slug":"翻译-rtklibexplorer","permalink":"http://yoursite.com/categories/翻译-rtklibexplorer/"}],"tags":[{"name":"网站","slug":"网站","permalink":"http://yoursite.com/tags/网站/"},{"name":"数据","slug":"数据","permalink":"http://yoursite.com/tags/数据/"},{"name":"生活","slug":"生活","permalink":"http://yoursite.com/tags/生活/"},{"name":"rtklib","slug":"rtklib","permalink":"http://yoursite.com/tags/rtklib/"},{"name":"Qt","slug":"Qt","permalink":"http://yoursite.com/tags/Qt/"},{"name":"经验","slug":"经验","permalink":"http://yoursite.com/tags/经验/"},{"name":"书","slug":"书","permalink":"http://yoursite.com/tags/书/"}]}